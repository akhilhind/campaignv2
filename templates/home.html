<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
    <script src="https://kit.fontawesome.com/67361f458b.js" crossorigin="anonymous"></script>
    <title></title>
    <script>
        $(document).ready(function (e) {
            var formatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)
                //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)
            });
            // var loc = [0, 733.45, 733.45 * 2, 733.45 * 3, 733.45 * 4];
            // var loc2 = [0, 733.45, 733.45 * 2, 733.45 * 3];
            var loc = [0, 100, 100 * 2, 100 * 3, 100 * 4];
            var loc2 = [0, 100, 100 * 2, 100 * 3];

            var heads = ["Instructions", "Inputs", "Inputs", "Insights", "Output"];
            var heads2 = ["Instructions", "Inputs", "Inputs", "Insights"];
            var idx = 0, idx2 = 0;
            var maxr = 1, maxr2 = 1;
            $('#home').on('click', function () {
                // window.location.replace('http://127.0.0.1:5000');
                location.reload();
            });
            $('#left').on('click', function () {
                $('#bottom').css('top', '100%');
                $('#top').css('top', '100%');
                $('#tabone').css('background-color', '#57eec1');
                setTimeout(() => {
                    $('#right').css('transform', 'scaleX(0)');
                    $('#left').css('transform', 'scaleX(0)');
                    $('#title').text('Test-Control Match Pair');
                    // $('#left').css('width', '100%');
                    $('#left').css('border', 'none');
                    $('#left').hover(function () {
                        $('#left').css('transform', 'scale(1)');
                    });
                    setTimeout(() => {
                        $('#left').css('visibility', 'hidden');
                        $('#right').css('display', 'none');
                        $('#screen1').css('transform', 'scaleX(1)');
                        $('#home').css('display', 'block');
                        // $('#screen1').css('visibility', 'visible');
                    }, 300)
                }, 400);
            });
            $('#right').on('click', function () {
                $('#bottom').css('top', '100%');
                $('#top').css('top', '100%');
                $('#tabone').css('background-color', '#57eec1');
                setTimeout(() => {
                    $('#right').css('transform', 'scaleX(0)');
                    $('#left').css('transform', 'scaleX(0)');
                    $('#title').text('Campaign Evaluation');
                    // $('#left').css('width', '100%');
                    $('#left').css('border', 'none');
                    $('#left').hover(function () {
                        $('#left').css('transform', 'scale(1)');
                    });
                    setTimeout(() => {
                        $('#left').css('visibility', 'hidden');
                        $('#tabone2').css('background-color', '#57eec1');
                        $('#right').css('display', 'none');
                        $('#screen2').css('transform', 'scaleX(1)');
                        $('#home').css('display', 'block');
                        // $('#screen1').css('visibility', 'visible');
                    }, 300)
                }, 400);
            });
            $('.icon').on('click', function () {
                $(this).css('background-color', '#57eec1');
            });
            function update_head(idx) {
                $('#tabhead').text(heads[idx]);
            }
            function update_head2(idx) {
                console.log('idx=', idx);
                $('#tabhead2').text(heads2[idx]);
            }
            function ajaxCall(data) {
                console.log(data);
                $.ajax({
                    url: '/write',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: JSON.stringify(data),
                    type: 'post',
                    success: function (response) {
                        console.log(response);
                    },
                    error: function (response) {
                        console.log(response);
                    }
                })
            }
            function validate() {
                let camp_val = $('#campaign_cost').val();
                let perf_val = $('#performance_window').val();
                if (camp_val.length && perf_val.length) return true;
                if (camp_val == '') {
                    $('#campaign_label').html('Please enter Cost of Campaign');
                    $('#campaign_label').addClass('red');
                    // $('#msg3').css('display', 'inline');
                    // $('#campaign_label').css('font-size', '16px');
                    // return false;
                }
                if (perf_val == '') {
                    $('#performance_window_label').html('Please enter Campaign Weeks');
                    $('#performance_window_label').addClass('red');
                    // $('#performance_window_label').css('font-size', '16px');
                    // $('#msg4').css('display', 'inline');
                    // return false;
                }
                // return true;
            }
            function select_unique() {
                let unique_f = $('input[name="unique_feature"]:checked').val();
                if (unique_f == undefined) {
                    // $('#unique_msg').text('Please select unique identifier');
                    $('#unique_head').text('Please select Unique Identifier');
                    $('#unique_head').css('color', 'red');
                    // $('#unique_head').css('font-size', '16px');
                    return;
                }
                console.log(unique_f);
                $("input.unique_f:radio:not(:checked)").each(function () {
                    $(this).parent().remove();
                });
                $('#unique_select').hide();
                // $('#bottomlast').css('visibility', 'visible');
                localStorage.setItem('unique_id', unique_f);
                let feats = localStorage.getItem('features').split(',');
                console.log('feats = ', feats);
                $('#pop_ul').html('');
                $.each(feats, function (key, data) {
                    if (key > 0 && data != unique_f) {
                        console.log(data);
                        $('#pop_ul').append('<li><input type="checkbox" value="' + data + '">' + data);
                    }
                });
                $('#population_features').css('transform', 'scaleX(1)');
                $('#send_data').css('visibility', 'visible');
            }
            $('#submit').on('click', function () {
                $('#unique_features').css('visibility', 'hidden');
                // hide('dummy');
                var form_data = new FormData();
                var ins = document.getElementById('myfile').files.length;
                if (ins == 0) {
                    $('#myfile_label').html('<span style="color:red">Please select population file</span>');
                    $('#submit').css('background', '#f44336');
                    return;
                }

                for (var x = 0; x < ins; x++) {
                    form_data.append("files[]", document.getElementById('myfile').files[x]);
                }

                $.ajax({
                    url: '/upload',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function (response) {
                        maxr = 1;
                        console.log(response.features);
                        $('#myfile_label').text('Population Data');
                        $('#msg').html('');
                        $('#tabthree').css('background-color', '#fff');
                        $('#tabfour').css('background-color', '#fff');
                        // hide('dummy');
                        // hide('topdata');
                        // slideUp('leftpane', $('.topdata').height()+10);
                        $('#submit2').css('background', 'black');
                        $('#submit2').text('Upload');
                        $('#pop_ul').html('');
                        $('#pop_name').attr('name', response.features[0]);
                        $('#submit').css('background', '#4CAF50');
                        $('#submit').text('Uploaded');
                        // $('#submit').addClass('disabled');
                        $('#test').css('visibility', 'visible');
                        localStorage.setItem('features', response.features);
                        $('#unique_ul').html('');
                        // $.each(response.features, function (key, data) {
                        //     if (key > 0 && key !== 'message') {
                        //         $('#unique_ul').append('<li><input type="radio" name="unique_feature" value="' + data + '">' + data);
                        //     }
                        // });
                    },
                    error: function (response) {
                        $('#msg').html(response.message);
                    }
                });
            });
            $('#submit2').on('click', function () {
                console.log('jajaj');
                var form_data = new FormData();
                var ins = document.getElementById('testFile').files.length;

                if (ins == 0) {
                    $('#myfile_test').html('<span style="color:red">Please select test file</span>');
                    $('#submit2').css('background', '#f44336');
                    return;
                }

                for (var x = 0; x < ins; x++) {
                    form_data.append("files[]", document.getElementById('testFile').files[x]);
                }

                $.ajax({
                    url: '/upload',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function (response) {
                        setTimeout(() => {
                            $('#slidable').css('left', -loc[++idx] + '%');
                        }, 800);
                        console.log(response.features);
                        // select_unique();
                        $('#msg').html('');
                        $('#unique_select').show();
                        $('#test_ul').html('');
                        $('#submit2').text('Uploaded');
                        // $('#submit2').addClass('disabled');
                        $('#test_name').attr('name', response.features[0]);
                        $('#submit2').css('background', '#4CAF50');
                        setTimeout(() => {
                            $('#submit').css('background-color', '#000');
                            $('#submit').text('Upload');
                            $('#submit2').css('background-color', '#000');
                            $('#submit2').text('Upload');
                        }, 1000);
                        $('#unique_features').css('visibility', 'visible');
                        // $('#bottomlast').css('visibility', 'visible');
                        // $.each(response.features, function (key, data) {
                        //     if (key > 0 && key !== 'message') {
                        //         console.log(key);
                        //         $('#test_ul').append('<li><input type="checkbox" value="' + data + '">' + data);
                        //     }
                        //     // else {
                        //     //     $('#msg').append(data + '<br/>');
                        //     // }
                        // });
                        $.each(localStorage.getItem('features').split(','), function (key, data) {
                            if (key > 0 && key !== 'message') {
                                $('#unique_ul').append('<li><input type="radio" class="unique_f" name="unique_feature" value="' + data + '">' + data);
                            }
                        });
                        maxr = 2;
                        console.log('maxr = ', maxr);
                        $('#ground').css('visibility', 'visible');
                        $('#unique_features').css('visibility', 'visible');
                    },
                    error: function (response) {
                        $('#msg').html(response.message);
                    }
                });
            });
            $('#unique_select').on('click', () => {
                select_unique();
                // $('#population_features').css('visibility', 'visible');
            });
            $('#send_data').on('click', function () {
                var population = [localStorage.getItem('unique_id')];
                population.splice(0, 0, $('#pop_name').attr('name'));
                $('#pop_ul input:checked').each(function () {
                    if ($(this).is(":checked")) {
                        population.push($(this).attr('value'));
                    }
                });
                console.log(population);
                if (population.length < 4) {
                    $('#featureHead').html('Select minimum 2 features');
                    $('#featureHead').addClass('red');
                    return;
                }
                $('#featureHead').html('Select Features');
                $('#featureHead').removeClass('red');
                var test = [];
                test.push($('#test_name').attr('name'));
                $('.lds-roller').css('visibility', 'visible');
                // $('#test_ul input:checked').each(function () {
                //     if ($(this).is(":checked")) {
                //         test.push($(this).attr('value'));
                //     }
                // });
                let d_data = {
                    'population': population,
                    'test': test
                }
                $('#send_data').addClass('disabled');
                $.ajax({
                    url: '/send_data',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: JSON.stringify(d_data),
                    type: 'post',
                    success: function (response) {
                        maxr = 5;
                        console.log('inside final function');
                        // console.log(response);
                        // console.log(typeof (response));

                        for (var key in response) {
                            if (response.hasOwnProperty(key)) {
                                console.log(key);
                                // console.log($(`#${key}`));
                                $(`#${key}`).attr('src', `data:image/png;base64, ${response[key]}`)
                                // console.log(response[key]);
                                // break;
                            }
                        }
                        setTimeout(() => {
                            $('#slidable').css('left', -loc[++idx] + '%');
                            $('#tabthree').css('background-color', '#57eec1');
                            update_head(3);
                        }, 500);
                        // $('#df_pop').attr('src', '#');
                        // $('#df_pop').attr('src', './files/df_pop.png');
                        // $('#df_test').attr('src', './files/df_test.png');
                        // $('#tiles').append(response['page']);
                        $('.tiles').css('visibility', 'visible');
                        // $('#right').css('visibility', 'visible');
                        $('.lds-roller').css('visibility', 'hidden');
                        $('#send_data').removeClass('disabled');
                        //$('#send_data').html('Generated');
                    }
                })
                console.log(test);
            });
            $('#test_control_submit').on('click', function () {
                console.log('inside test_control_submit');
                var form_data = new FormData();
                var ins = document.getElementById('test_control_file').files.length;
                if (ins == 0) {
                    $('#test_control_label').html('<span style="color:red">Please select Test Control file</span>');
                    $('#test_control_submit').css('background', '#f44336');
                    // $('#test_control_label').css('font-size', '16px');
                    return;
                }
                for (var x = 0; x < ins; x++) {
                    form_data.append("files[]", document.getElementById('test_control_file').files[x]);
                }
                $.ajax({
                    url: '/upload',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function (response) {
                        // console.log(response.features[0]);
                        $('#test_control_file_name').attr('name', response.features[0]);
                        let write_obj = {
                            'action': 'file_name_write',
                            'data': `${response.features[0]}`
                        }
                        ajaxCall(write_obj);
                        $('#tabthree2').css('background', '#fff');
                        $('#test_control_submit').css('background', '#4CAF50');
                        $('#test_control_submit').text('Uploaded');
                        // slideUp('camp_main_dummy', $('#camp_main_dummy').height());
                        // slideUp('camp_main_left_t', $('#topdata').height() + $('#camp_main_left_tfile').height() + $('#camp_main_dummy').height()+10);
                    },
                    error: function (response) {
                        $('#msg1').html(response.message);
                    }
                });
            });
            $('#performance_submit').on('click', function () {
                var form_data = new FormData();
                var ins = document.getElementById('performance_file').files.length;
                if (ins == 0) {
                    $('#performance_label').html('<span style="color:red">Please select Performance file</span>');
                    $('#performance_submit').css('background', '#f44336');
                    // $('#performance_label').css('font-size', '16px');
                    return;
                }
                for (var x = 0; x < ins; x++) {
                    form_data.append("files[]", document.getElementById('performance_file').files[x]);
                }
                $.ajax({
                    url: '/upload',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    data: form_data,
                    type: 'post',
                    success: function (response) {
                        $('#performace_file_name').attr('name', response.features[0]);
                        let write_obj = {
                            'action': 'file_name_append',
                            'data': `${response.features[0]}`
                        }
                        ajaxCall(write_obj);
                        $('#performance_submit').css('background', '#4CAF50');
                        $('#performance_submit').text('Uploaded');
                        setTimeout(() => {
                            $('#slidable2').css('left', -loc2[++idx2] + '%');
                            $('#tabtwo2').css('background-color', '#57eec1');
                            maxr2 = 2;
                            idx2 = 2;
                            $('#test_control_submit').css('background', '#000');
                            $('#test_control_submit').text('Upload');
                            $('#performance_submit').css('background', '#000');
                            $('#performance_submit').text('Upload');
                        }, 800);
                        // slideUp('camp_main_dummy', $('#camp_main_dummy').height());
                        // slideUp('camp_main_left_t', $('#topdata').height() + $('#camp_main_left_pfile').height());
                    },
                    error: function (response) {
                        $('#msg2').html(response.message);
                    }
                });
            });
            $('#eval_generate').on('click', function () {
                if (!validate()) return;
                console.log('inside');
                $('.lds-roller').css('visibility', 'visible');
                let data = {
                    'cost': $('#campaign_cost').val(),
                    'weeks': $('#performance_window').val()
                }
                console.log(data);
                let write_obj = {
                    'action': 'data_write',
                    'data': data
                }
                $('#campaign_label').removeClass('red');
                $('#campaign_label').text('Cost of Campaign');
                $('#performance_window_label').removeClass('red');
                $('#performance_window_label').text('Campaign Weeks');

                ajaxCall(write_obj);
                $('#eval_generate').addClass('disabled');
                $.ajax({
                    url: '/run_evaluate',
                    dataType: 'json',
                    cache: false,
                    contentType: false,
                    processData: false,
                    type: 'post',
                    success: function (response) {
                        for (let [key, value] of Object.entries(response)) {
                            console.log(key, value);
                            if (key === 'uplift_value' || key === 'total_uplift_value' || key === 'campaign_cost_value') {
                                $(`#${key}`).html(('' + formatter.format(parseFloat(value))).split('.')[0]);
                            } else if (key === 'scr_value') {
                                $(`#${key}`).html(parseFloat(value).toFixed(2));
                            } else if (key === 'performance_wind_value') {
                                $(`#${key}`).html(parseFloat(value).toFixed(0) + ' weeks');
                            } else {
                                $(`#${key}`).html(parseFloat(value).toFixed(0));
                            }
                        }
                        setTimeout(() => {
                            $('#slidable2').css('left', -loc2[++idx2] + '%');
                            $('#tabthree2').css('background-color', '#57eec1');
                            maxr2 = 3;
                            update_head2(idx2);
                            console.log(idx2);
                        }, 800);
                        $('#camp_main_right').css('visibility', 'visible');
                        // $('#eval_generate').html('Generated');
                        $('.lds-roller').css('visibility', 'hidden');
                        $('#eval_generate').removeClass('disabled');
                    }
                });
            });
            $('#show_insights').on('click', function () {
                // $('*').css("transition-duration", "0s");
                $('#result').css('display', 'block');
                $('#close').css('visibility', 'visible');
                $('#cover').css('display', 'block');
            });
            $('#show_insights2').on('click', function () {
                // $('*').css("transition-duration", "0s");
                $('#result2').css('display', 'block');
                $('#close2').css('visibility', 'visible');
                $('#cover').css('display', 'block');
            });
            $('#close').on('click', function () {
                // $('*').css("transition-duration", "0.3s");
                $('#result').css('display', 'none');
                $('#close').css('visibility', 'hidden');
                $('#cover').css('display', 'none');
            });
            $('#close2').on('click', function () {
                // $('*').css("transition-duration", "0.3s");
                $('#result2').css('display', 'none');
                $('#close2').css('visibility', 'hidden');
                $('#cover').css('display', 'none');
            });

            // $('#tabfour').on('click', function() {
            //     $(this).css('background-color', 'red');
            //     $('#slidable').css('left', '-300%');
            // });
            $('#show_info').on('click', function () {
                $('#info_frame').css('display', 'block');
            });
            $('#forward').on('click', function () {
                console.log(maxr);
                if (idx < maxr && idx < loc.length - 1) {
                    idx++;
                    console.log(idx);
                    $('#slidable').css('left', -loc[idx] + '%');
                    if (idx == loc.length - 1) $('#tabfour').css('background-color', '#57eec1');
                    else if (idx == 1) $('#tabtwo').css('background-color', '#57eec1');
                    update_head(idx);
                }
            });
            $('#backward').on('click', function () {
                if (idx > 0) {
                    // console.log(idx);
                    idx--;
                    $('#slidable').css('left', -loc[idx] + '%');
                    update_head(idx);
                }
            });
            $('#forward2').on('click', function () {
                console.log(maxr2);
                if (idx2 < maxr2 && idx2 < loc2.length - 1) {
                    idx2++;
                    console.log(idx2);
                    $('#slidable2').css('left', -loc2[idx2] + '%');
                    if (idx2 == 1) $('#tabtwo2').css('background-color', '#57eec1');
                    update_head2(idx2);
                }
            });
            $('#backward2').on('click', function () {
                if (idx2 > 0) {
                    // console.log(idx);
                    idx2--;
                    $('#slidable2').css('left', -loc2[idx2] + '%');
                    update_head2(idx2);
                }
            });
        });
    </script>
</head>

<body id="mybody">
    <div id="logo"><a href="https://www.nagarro.com"><img src="../static/nagarro3.svg" alt="nagarro_logo"></a></div>
    <i class="fa-solid fa-house-chimney" id="home"></i>
    <div id="cover"></div>
    <div class="page">
        <h1 id="title">Campaign Evaluation Toolkit</h1>
        <div id="main">
            <div id="left">
                <div id="top">
                    <h2>Test-Control Match Pair</h2>
                </div>
                <div id="bottom">This tool is used to identify best ‘Control’ match (out of large population)
                    corresponding to a ‘Test’ sample which is part of a marketing campaign
                </div>
            </div>
            <div id="right">
                <div id="rtop">
                    <h2>Campaign Evaluation</h2>
                </div>
                <div id="rbottom">This tool is used to measure the effectiveness of the campaign. It reports the key
                    performance KPIs of the campaign which can help stakeholders to get insights and make better
                    business decisions</div>
            </div>
        </div>
        <div id="screen1">
            <div class="lds-roller">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div id="forward"><i class="fa-solid fa-angles-right"></i></div>
            <div id="backward"><i class="fa-solid fa-angles-left"></i></div>
            <h2 id="tabhead">Instructions</h2>
            <div class="tabs">
                <div class="tabdiv">
                    <span class="i-icon" id="tabone"><i class="fa-solid fa-info" id="firsticon"></i></span>
                </div>
                <div class="tabdiv">
                    <span class="i-icon" id="tabtwo"><i class="fa-solid fa-file-csv"></i></span>
                </div>
                <div class="tabdiv">
                    <span class="i-icon" id="tabthree"><i class="fa-solid fa-chart-line"></i></span>
                </div>
                <div class="tabdiv">
                    <span class="i-icon" id="tabfour"><i class="fa-solid fa-arrow-right-from-bracket"
                            id="fourthicon"></i></span>
                </div>
            </div>
            <div class="content">
                <div id="slidable">
                    <section id="information">
                        <img src="../static/files/info.png" alt="">
                        <!-- <button id="show_info" class="button">Instructions</button> -->
                    </section>
                    <section id="file_upload" class="file_upload">
                        <div id="popuation">
                            <label for="myfile" id="myfile_label">Population Data</label>
                            <span id="pop_name" class="zero"></span>
                            <input type="file" id="myfile" name="myfile" class="hidden" required />
                            <button type="submit" id="submit" class="button">Upload</button>
                            <p class="fileinfo" id="topfileinfo">
                                CSV file with complete population and the variables that Control needs to be matched on.
                                The format of this file is same as ‘Test file’
                            </p>
                        </div>
                        <div id="test">
                            <label for="testFile" id="myfile_test">Test Data</label>
                            <span id="test_name" class="zero"></span>
                            <input type="file" id="testFile" name="testFile" class="hidden" required />
                            <button type="submit" id="submit2" class="button">Upload</button>
                            <p class="fileinfo" id="bottomfileinfo">
                                CSV file with ‘Test’ users and the variables that ‘Control’ needs to be matched on
                            </p>
                        </div>
                    </section>
                    <section id="feature_selection">
                        <div id="unique_features">
                            <p id="unique_msg"></p>
                            <h3 id="unique_head">Select Unique Identifier</h3>
                            <div id="isUnique">
                                <ul id="unique_ul"></ul>
                            </div>
                            <button id="unique_select" class="button">Select</button>
                        </div>
                        <div id="population_features">
                            <h3 id="featureHead">Select Features</h3>
                            <div id="leftFeatures">
                                <ul id="pop_ul"></ul>
                            </div>
                            <!-- <button id="feature_select" class="button">Select</button> -->
                        </div>
                        <button id="send_data" class="button">Generate Control</button>
                    </section>
                    <section id="insights">
                        <h2>Insights Generated</h2>
                        <button id="show_insights" class="button">Show Insights</button>
                    </section>
                    <section id="download">
                        <h2>Download Test-Control Match Pair</h2>
                        <a href="{{url_for('static',filename='output.csv')}}" download>
                            <button class="button">Download</button>
                        </a>
                    </section>
                </div>
            </div>
        </div>
        <div id="screen2">
            <div class="lds-roller">
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </div>
            <div id="forward2"><i class="fa-solid fa-angles-right"></i></div>
            <div id="backward2"><i class="fa-solid fa-angles-left"></i></div>
            <h2 id="tabhead2">Instructions</h2>
            <div class="tabs">
                <div class="tabdiv">
                    <span class="i-icon" id="tabone2"><i class="fa-solid fa-info" id="firsticon"></i></span>
                </div>
                <div class="tabdiv">
                    <span class="i-icon" id="tabtwo2"><i class="fa-solid fa-file-csv"></i></span>
                </div>
                <div class="tabdiv">
                    <span class="i-icon" id="tabthree2"><i class="fa-solid fa-chart-line"></i></span>
                </div>
            </div>
            <div class="content">
                <div id="slidable2">
                    <section id="information">
                        <img src="../static/files/info2.png" alt="">
                        <!-- <button id="show_info" class="button">Instructions</button> -->
                    </section>
                    <section class="file_upload">
                        <div id="test_control">
                            <label for="test_control_file" id="test_control_label">Test-Control Match Pair</label>
                            <span id="test_control_file_name" class="zero"></span>
                            <input type="file" name="test_ccaontrol_file" id="test_control_file" class="hidden" />
                            <button id="test_control_submit" class="button">Upload</button>
                            <p class="fileinfo" id="topfileinfo2">
                                CSV file with details of the Test-Control match pairs. This is the file produced as an
                                output of the ‘Test-Control match pair’ module
                            </p>
                        </div>
                        <div id="weeks">
                            <label for="performance_file" id="performance_label">Performance</label>
                            <span id="performace_file_name" class="zero"></span>
                            <input type="file" name="performance_file" id="performance_file" class="hidden" />
                            <button id="performance_submit" class="button">Upload</button>
                            <p class="fileinfo" id="bottomfileinfo2">
                                CSV file with details of the performance of the ‘Test’ and ‘Control’ groups pre and post
                                campaign
                            </p>
                        </div>
                    </section>
                    <section id="cost_and_performance">
                        <div id="cost">
                            <label for="campaign_cost" id="campaign_label">Cost of Campaign</label>
                            <div id="cost_pop">
                                <input type="number" name="campaign_cost" id="campaign_cost" placeholder="e.g. $10000"
                                    min="10000">
                                <div id="cost_infopop">Total cost including operational and promotional expenses</div>
                            </div>
                        </div>
                        <div id="performace">
                            <label for="performance_window" id="performance_window_label">Evaluation Window</label>
                            <label data="weeks" id="input_weeks">
                                <input type="number" name="performance_window" id="performance_window"
                                    placeholder="e.g. 5" max="1000000">
                                <div id="performance_infopop">Time frame to measure the campaign impact on revenue/sales
                                </div>
                            </label>
                            <!-- <div id="weekinput">
                                <span id="week">weeks</span>
                            </div> -->
                        </div>
                        <div id="generate_eval">
                            <button id="eval_generate" class="button">Generate</button>
                        </div>
                    </section>
                    <section id="insights">
                        <h2>Insights Generated</h2>
                        <button id="show_insights2" class="button">Show Insights</button>
                    </section>
                </div>
            </div>
        </div>
    </div>
    <div id="result">
        {% include 'index.html' %}
        <a href="#" class="close" id="close"></a>
    </div>
    <div id="result2">
        <a href="#" class="close" id="close2"></a>
        <div id="final_data">
            <div id="remdata">
                <div id="cust_in_camp"><span id="cust_in_camp_value"></span>Customers in campaign</div>
                <div id="uplift"><span id="uplift_value">$</span>Uplift Per Customer</div>
                <div id="scr"><span id="scr_value"></span>ROI</div>
                <div id="total"><span id="total_uplift_value">$</span>Total Uplift</div>
                <div id="cost_campaign"><span id="campaign_cost_value">$</span>Campaign Cost</div>
                <div id="performance_wind"><span id="performance_wind_value"></span>Performance Window</div>
            </div>
            <!-- <div id="cust_in_camp">Customers in campaign: <span id="cust_in_camp_value"></span></div>
            <div id="remdata">
                <div id="uplift">Uplift Per Customer: $<span id="uplift_value">123</span></div>
                <div id="scr">ROI: <span id="scr_value">111</span></div>
                <div id="total">Total Uplift: $<span id="total_uplift_value">456</span></div>
                <div id="cost_campaign">Campaign Cost: $<span id="campaign_cost_value">1234</span></div>
                <div id="performance_wind">Performance Window: <span id="performance_wind_value">11111111</span> Weeks
                </div>
            </div> -->
        </div>
        <div id="camp_graph">
            <div id="camp_main_right_top">{% include 'graph_evaluate.html' %}</div>
        </div>
    </div>
</body>

</html>